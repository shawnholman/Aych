!function(e,t){for(var r in t)e[r]=t[r]}(this,function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";function i(e){return void 0!==e&&void 0!==e.render}function s(e){return void 0!==e&&"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeSpaces=t.kebabToCamelCase=t.merge=t.isAttributes=t.isString=t.isRenderable=void 0,t.isRenderable=i,t.isString=s,t.isAttributes=function(e){return void 0!==e&&!s(e)&&!i(e)},t.merge=function(e,t){return Object.assign(Object.assign({},t),e)},t.kebabToCamelCase=function(e){return e.replace(/-([a-z])/g,e=>e[1].toUpperCase())},t.removeSpaces=function(e){return e.split("\n").map(e=>e.trim()).join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderable=void 0;const i=r(0);t.Renderable=class{constructor(){this.templates={},this.canRender=!0,this.toString=()=>this.render()}with(e){return this.templates=e,this}when(e){return this.canRender=e,this}append(e,t=!1){return this.templates=t?i.merge(e,this.templates):i.merge(this.templates,e),this}render(e,t){return(null==t?void 0:t.prioritizeRenderTemplates)?this.canRender?this.internalRender(i.merge(e,this.templates)):"":this.canRender?this.internalRender(i.merge(this.templates,e)):""}get r(){return this.render()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;const i=r(6),s=r(1),n=r(0),a=new RegExp("{{\\s*(([\\w-_][\\w\\d-_]*(\\[-?\\d+\\])?\\??)(\\.[\\w-_][\\w\\d-_]*(\\[-?\\d+\\])?\\??)*)(\\s*\\|\\s*(([\\w-_][\\w\\d-_]*)(\\((([\\w\\d]+)(,\\s*[\\w\\d]+)*)?\\))?))?\\s*}}","g");class o extends s.Renderable{constructor(e,t=!0){super(),n.isString(e)||(e=e.toString()),this.string=t?o.escapeHtml(e):e}internalRender(e){return o.probablyHasTemplates(this.string)?this.string.replace(a,(...t)=>{const r=t[1],s=t[8],n=t[10],a=o.getValueFromObject(e,r);return i.Piper.pipe(a,s,n)}):this.string}static probablyHasTemplates(e){return e.includes("{{")&&e.includes("}}")}static escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}static getValueFromObject(e,t){const r=t.split(".").map(this.parseKey);let i=e,s=void 0;for(let e of r){if(!Object.prototype.hasOwnProperty.call(i,e.value)){if(e.isOptional)return"";if(void 0===s)throw new Error(e.value+" is undefined.");throw new Error(e.value+` is not a property of ${s}.`)}if(e.isArray){const t=e.array.index,r=i[e.value];if(!Array.isArray(r))throw new Error(e.value+" is not an array.");if(t<0||t>=r.length){if(e.isOptional)return"";throw new Error(`Index out of bounds: ${e.value}[${t}].`)}i=r[t],s=e.value}else i=i[e.value],s=e.value}return i.toString()}static parseKey(e){let t=!1;(e=e.trim()).endsWith("?")&&(t=!0,e=e.slice(0,-1));const r=e.match(/^([\w-_][\w\d-_]*)\[([-]?\d+)]$/);let i=-1;return r&&(e=r[1],i=parseInt(r[2])),{value:e,isOptional:t,isArray:!!r,array:r?{index:i}:null}}static factory(e){return n.isString(e)?new o(e):e}}t.StringLiteral=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aych=void 0;const i=r(8),s=r(9),n=r(6),a=r(2),o=r(10),l=r(5),u=r(11),c=r(12),d=r(0),h=/^[a-zA-Z][a-zA-Z0-9]*(-[a-zA-Z]+)*$/g,p=/^[a-zA-Z]+$/g;class f{static create(e,t){if(!(t=t.trim()).match(h))throw new Error("Tag names should start with a letter and only contain letters, numbers, and dashes between two characters (yes: the-tag-name, no: the---tag---name).");const r=d.kebabToCamelCase(t);if(e==f.ElementType.NESTED){const e=function(e,r,...i){return new s.NestableElement(t,e,r,...i)};f.define(r,e)}else{if(e!=f.ElementType.EMPTY)throw new Error("ElementType does not exist: "+e);{const e=function(e,r){return new i.EmptyElement(t,e,r)};f.define(r,e)}}return t}static destroy(e){e=d.kebabToCamelCase(e.trim()),Object.prototype.hasOwnProperty.call(f.prototype,e)&&delete f.prototype[e]}static compose(e,t){if(!(e=e.trim()).match(p))throw new Error("Composition names should start with a letter or underscore and only contain letters, numbers, dashed, and underscores throughout.");f.define(e,t)}string(e){return d.isString(e)||(e=e.toString()),new a.StringLiteral(e)}unescaped(e){return new a.StringLiteral(e,!1)}$(e){f.isScoped=!0;const t=e.call(null,this);return f.isScoped=!1,f.scoped.forEach(f.destroy),d.isRenderable(t)?t.render():d.isString(t)?t:void 0}$each(e,t,r,i){return new o.Each(e,t,r,i)}$eachIn(e,t){return new o.Each(Object.entries(e),t)}$repeat(e,t){return new o.Each([...Array(e).keys()],t)}$group(...e){return new l.Group(...e)}$if(e,t,r){return new u.If(e,t,r)}$switch(e,...t){return d.isString(e),new c.Switch(e,...t)}$case(e,t){return d.isString(e),new c.Switch.Case(e,t)}static define(e,t,r=!0,i=!1){let s=e.trim();if(Object.prototype.hasOwnProperty.call(f.prototype,s))throw new Error(`You cannot define ${s} on Aych because it already exists. Please call Aych.destroy("${s}") before redefining.`);f.isScoped&&f.scoped.push(s),Object.defineProperty(f.prototype,s,{value:t,configurable:r,writable:i})}}t.Aych=f,f.scoped=[],f.isScoped=!1,f.Piper=n.Piper,function(e){let t;!function(e){e[e.NESTED=0]="NESTED",e[e.EMPTY=1]="EMPTY"}(t=e.ElementType||(e.ElementType={}))}(f=t.Aych||(t.Aych={}));["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video"].forEach(e=>f.create(f.ElementType.NESTED,e));["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].forEach(e=>f.create(f.ElementType.EMPTY,e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Element=void 0;const i=r(1),s=r(0);class n extends i.Renderable{constructor(e,t,r){if(super(),this.attributes={},this.tag=e.toLowerCase(),s.isString(t)&&n.isIdentifierString(t))this.setIdentifierString(t);else{if(!s.isAttributes(t))return;this.setAttributes(t)}if(r){if(s.isAttributes(t)||!s.isAttributes(r))throw new Error("Attributes field has been declared twice.");this.setAttributes(r)}}getTag(){return this.tag}getId(){return Object.prototype.hasOwnProperty.call(this.attributes,"id")?this.attributes.id:null}getClassList(){return Object.prototype.hasOwnProperty.call(this.attributes,"class")?this.attributes.class.split(" "):[]}getAttributes(){return this.attributes}setId(e){return this.setAttribute("id",e),this}setClassList(e){return e.length&&this.setAttribute("class",e.join(" ")),this}setIdentifiers(e){return n.isIdentifierString(e)?this.setIdentifierString(e):console.warn("Identifier string was not valid. Setter had no effect."),this}setAttributes(e){for(let t in e)this.setAttribute(t,e[t]);return this}setAttribute(e,t){if(Array.isArray(t))if(t[0])t=t[1];else{if(3!==t.length)return this;t=t[2]}if(null!==t&&"class"===e&&t.startsWith("+")){if(Object.prototype.hasOwnProperty.call(this.attributes,"class")){if(this.attributes.class.includes(t.substr(1)))throw new Error("Duplicate class name can not be added.");this.attributes.class+=" "+t.substr(1)}else this.attributes.class=t.substr(1);return this}return this.attributes[e]=t,this}static isIdentifierString(e){const t=e.trim();return 0!==t.length&&null!==t.match(/^(#[A-z-_][A-z0-9-_]*)?([.][A-z-_][A-z0-9-_]*)*$/)}setIdentifierString(e){const t=e.trim().split(".");t[0].startsWith("#")?this.setId(t.shift().substr(1)):t.shift(),this.setClassList(t)}getHtmlAttributeList(){return Object.entries(this.getAttributes()).reduce((e,[t,r])=>null===r?e+" "+t:e+` ${t}="${r}"`,"")}}t.Element=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;const i=r(0),s=r(1),n=r(2);class a extends s.Renderable{constructor(...e){super(),this.members=[],e.length>0&&this.setMembers(...e)}getMembers(){return this.members}setMembers(...e){for(const t of e)this.addMember(t)}addMember(e){if(i.isString(e)){if(0===e.trim().length)return;e=new n.StringLiteral(e)}this.members.push(e)}internalRender(e){return this.members.reduce((t,r)=>t+r.render(e),"")}}t.Group=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Piper=void 0;class i{static update(e,t){if(e=e.trim(),!i.pipes.has(e))throw new Error(`Cannot update non-existing pipe: ${e}.`);{let r=t.bind(this,i.pipes.get(e));i.pipes.set(e,r)}}static register(e,t){if(!(e=e.trim()).match(/^[a-zA-Z]+$/g))throw new Error("Pipe names must only contain letters. Whitespaces are trimmed.");if(i.pipes.has(e))throw new Error(`Pipe already exists: ${e}.`);i.pipes.set(e,t)}static deregister(e){return i.pipes.delete(e)}static pipe(e,t,r){if(void 0!==t){const s=void 0!==r?r.split(/\s*,\s*/):[];if(i.pipes.has(t)){const r=s.map(e=>isNaN(parseFloat(e))?"true"===e||"false"!==e&&e:parseFloat(e));return i.pipes.get(t).call(this,e,...r)}throw new Error(`Pipe does not exist: ${t}.`)}return e}}t.Piper=i,i.pipes=new Map,i.register("uppercase",e=>e.toUpperCase()),i.register("substr",(e,t,r)=>e.substr(t,r))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.H=void 0;const i=r(3);var s=r(3);Object.defineProperty(t,"Aych",{enumerable:!0,get:function(){return s.Aych}}),t.H=new i.Aych},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyElement=void 0;const i=r(4);class s extends i.Element{internalRender(e){return`<${this.getTag()}${this.getHtmlAttributeList()}>`}}t.EmptyElement=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestableElement=void 0;const i=r(4),s=r(0),n=r(5);class a extends i.Element{constructor(e,t,r,...a){if(super(e),this.children=new n.Group,s.isString(t)||s.isRenderable(t))s.isString(t)&&i.Element.isIdentifierString(t)?this.setIdentifierString(t):this.addChild(t);else{if(!s.isAttributes(t))return;this.setAttributes(t)}if(s.isString(r)||s.isRenderable(r))this.addChild(r);else{if(!s.isAttributes(r))return;if(s.isAttributes(t)&&s.isAttributes(r))throw new Error("Attributes field has been declared twice.");if(s.isRenderable(r)||s.isString(t)&&!i.Element.isIdentifierString(t))throw new Error("Attributes must come before children.");this.setAttributes(r)}a.length>0&&this.setChildren(...a)}getChildren(){return this.children.getMembers()}setChildren(...e){return this.children.setMembers(...e),this}addChild(e){return this.children.addMember(e),this}internalRender(e){const t=this.getTag();return`<${t}${this.getHtmlAttributeList()}>${this.children.render(e)}</${t}>`}}t.NestableElement=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Each=void 0;const i=r(0),s=r(1),n=r(2);class a extends s.Renderable{constructor(e,t,r="i",s="item"){super(),this.items=e,this.indexName=r,this.itemName=s,i.isString(t)||i.isRenderable(t)?this.renderable=n.StringLiteral.factory(t):this.renderFunction=t}empty(e){return this.ifEmptyRenderable=n.StringLiteral.factory(e),this}setIndexName(e){return this.indexName=e,this}setItemName(e){return this.itemName=e,this}internalRender(e){return this.isEmpty()?this.ifEmptyRenderable?this.ifEmptyRenderable.render():"":void 0===this.renderable?this.renderByFunction(e):this.renderByRenderable(e)}renderByRenderable(e){let t="",r=0;for(const s of this.items){const n={[this.itemName]:s,[this.indexName]:r};t+=this.renderable.render(i.merge(n,e)),r++}return t}renderByFunction(e){let t="",r=0;for(const s of this.items){let a=this.renderFunction(s,r,this.items);const o={[this.itemName]:s,[this.indexName]:r};a=n.StringLiteral.factory(a),t+=a.render(i.merge(o,e)),r++}return t}isEmpty(){for(const e of this.items)return!1;return!0}}t.Each=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;const i=r(1),s=r(2);class n extends i.Renderable{constructor(e,t,r){super(),this.condition=e,this.ifRenderable=s.StringLiteral.factory(t),r&&this.else(r)}else(e){return this.elseRenderable=s.StringLiteral.factory(e),this}elif(e,t){return!this.condition&&e&&void 0===this.elifRenderable&&(this.elifRenderable=s.StringLiteral.factory(t)),this}internalRender(e){return this.condition?this.ifRenderable.render(e):void 0!==this.elifRenderable?this.elifRenderable.render(e):this.elseRenderable?this.elseRenderable.render(e):""}}t.If=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;const i=r(1),s=r(2);class n extends i.Renderable{constructor(e,...t){super(),this.cases=[],this.value=e,this.cases=t}default(e){return this.defaultRenderable=s.StringLiteral.factory(e),this}internalRender(e){const t=this.cases.find(e=>e.hasValue(this.value));return t?t.getRenderable().render(e):this.defaultRenderable?this.defaultRenderable.render(e):""}}t.Switch=n,function(e){e.Case=class{constructor(e,t){this.value=e,this.renderable=s.StringLiteral.factory(t)}getRenderable(){return this.renderable}hasValue(e){return this.value===e}}}(n=t.Switch||(t.Switch={}))}]));